<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Wed Jun 10 22:48:47 PDT 2015 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
FSUtils (HBase 0.98.13-hadoop2 API)
</TITLE>

<META NAME="date" CONTENT="2015-06-10">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FSUtils (HBase 0.98.13-hadoop2 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FSUtils.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html" title="class in org.apache.hadoop.hbase.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.BlackListDirFilter.html" title="class in org.apache.hadoop.hbase.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/apache/hadoop/hbase/util/FSUtils.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FSUtils.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.hadoop.hbase.util</FONT>
<BR>
Class FSUtils</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.hadoop.hbase.util.FSUtils</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../../org/apache/hadoop/hbase/util/FSHDFSUtils.html" title="class in org.apache.hadoop.hbase.util">FSHDFSUtils</A>, <A HREF="../../../../../org/apache/hadoop/hbase/util/FSMapRUtils.html" title="class in org.apache.hadoop.hbase.util">FSMapRUtils</A></DD>
</DL>
<HR>
<DL>
<DT><PRE><FONT SIZE="-1"><A HREF="../../../../../org/apache/hadoop/hbase/classification/InterfaceAudience.Private.html" title="annotation in org.apache.hadoop.hbase.classification">@InterfaceAudience.Private</A>
</FONT>public abstract class <B>FSUtils</B><DT>extends <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
Utility methods for interacting with the underlying file system.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.BlackListDirFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.BlackListDirFilter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Directory filter that doesn't include any of the directories in the specified blacklist</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.DirFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.DirFilter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A <CODE>PathFilter</CODE> that only allows directories.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.FamilyDirFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.FamilyDirFilter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filter for all dirs that are legal column family names.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.HFileFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.HFileFilter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filter for HFiles that excludes reference files.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.ReferenceFileFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.ReferenceFileFilter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.RegionDirFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.RegionDirFilter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filter for all dirs that don't start with '.'</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.UserTableDirFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.UserTableDirFilter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A <CODE>PathFilter</CODE> that returns usertable directories.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#FULL_RWX_PERMISSIONS">FULL_RWX_PERMISSIONS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Full access permissions (starting point for a umask)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#WINDOWS">WINDOWS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set to true on Windows platforms</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#FSUtils()">FSUtils</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkAccess(org.apache.hadoop.security.UserGroupInformation, org.apache.hadoop.fs.FileStatus, org.apache.hadoop.fs.permission.FsAction)">checkAccess</A></B>(org.apache.hadoop.security.UserGroupInformation&nbsp;ugi,
            org.apache.hadoop.fs.FileStatus&nbsp;file,
            org.apache.hadoop.fs.permission.FsAction&nbsp;action)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Throw an exception if an action is not permitted by a user on a file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkClusterIdExists(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, int)">checkClusterIdExists</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                     org.apache.hadoop.fs.Path&nbsp;rootdir,
                     int&nbsp;wait)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks that a cluster ID file exists in the HBase root directory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkDfsSafeMode(org.apache.hadoop.conf.Configuration)">checkDfsSafeMode</A></B>(org.apache.hadoop.conf.Configuration&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check whether dfs is in safemode.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkFileSystemAvailable(org.apache.hadoop.fs.FileSystem)">checkFileSystemAvailable</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks to see if the specified file system is available</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkShortCircuitReadBufferSize(org.apache.hadoop.conf.Configuration)">checkShortCircuitReadBufferSize</A></B>(org.apache.hadoop.conf.Configuration&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if short circuit read buffer size is set and if not, set it to hbase value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean)">checkVersion</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
             org.apache.hadoop.fs.Path&nbsp;rootdir,
             boolean&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verifies current version of file system</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean, int, int)">checkVersion</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
             org.apache.hadoop.fs.Path&nbsp;rootdir,
             boolean&nbsp;message,
             int&nbsp;wait,
             int&nbsp;retries)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verifies current version of file system</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/HDFSBlocksDistribution.html" title="class in org.apache.hadoop.hbase">HDFSBlocksDistribution</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#computeHDFSBlocksDistribution(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.FileStatus, long, long)">computeHDFSBlocksDistribution</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                              org.apache.hadoop.fs.FileStatus&nbsp;status,
                              long&nbsp;start,
                              long&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compute HDFS blocks distribution of a given file, or a portion of the file</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.FSDataOutputStream</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#create(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.permission.FsPermission, boolean)">create</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
       org.apache.hadoop.fs.Path&nbsp;path,
       org.apache.hadoop.fs.permission.FsPermission&nbsp;perm,
       boolean&nbsp;overwrite)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create the specified file on the filesystem.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.FSDataOutputStream</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#create(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.permission.FsPermission, java.net.InetSocketAddress[])">create</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
       org.apache.hadoop.fs.Path&nbsp;path,
       org.apache.hadoop.fs.permission.FsPermission&nbsp;perm,
       <A HREF="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</A>[]&nbsp;favoredNodes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create the specified file on the filesystem.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#delete(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean)">delete</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
       org.apache.hadoop.fs.Path&nbsp;path,
       boolean&nbsp;recursive)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calls fs.delete() and returns the value returned by the fs.delete()</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#deleteDirectory(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">deleteDirectory</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                org.apache.hadoop.fs.Path&nbsp;dir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete if exists.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#deleteRegionDir(org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.HRegionInfo)">deleteRegionDir</A></B>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;hri)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete the region directory if exists.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/ClusterId.html" title="class in org.apache.hadoop.hbase">ClusterId</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getClusterId(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getClusterId</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
             org.apache.hadoop.fs.Path&nbsp;rootdir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the value of the unique cluster ID stored for this HBase instance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.FileSystem</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getCurrentFileSystem(org.apache.hadoop.conf.Configuration)">getCurrentFileSystem</A></B>(org.apache.hadoop.conf.Configuration&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getDefaultBlockSize(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getDefaultBlockSize</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                    org.apache.hadoop.fs.Path&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the number of bytes that large input files should be optimally
 be split into to minimize i/o time.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getDefaultBufferSize(org.apache.hadoop.fs.FileSystem)">getDefaultBufferSize</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the default buffer size to use during writes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;short</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getDefaultReplication(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getDefaultReplication</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                      org.apache.hadoop.fs.Path&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;org.apache.hadoop.fs.Path&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getFamilyDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getFamilyDirs</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
              org.apache.hadoop.fs.Path&nbsp;regionDir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a particular region dir, return all the familydirs inside it</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.permission.FsPermission</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getFileDefault()">getFileDefault</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the default permission for file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.permission.FsPermission</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getFilePermissions(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.conf.Configuration, java.lang.String)">getFilePermissions</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                   org.apache.hadoop.conf.Configuration&nbsp;conf,
                   <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;permssionConfKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the file permissions specified in the configuration, if they are
 enabled.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html" title="class in org.apache.hadoop.hbase.util">FSUtils</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getInstance(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.conf.Configuration)">getInstance</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
            org.apache.hadoop.conf.Configuration&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;org.apache.hadoop.fs.Path&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getLocalTableDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getLocalTableDirs</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                  org.apache.hadoop.fs.Path&nbsp;rootdir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.Path</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getNamespaceDir(org.apache.hadoop.fs.Path, java.lang.String)">getNamespaceDir</A></B>(org.apache.hadoop.fs.Path&nbsp;rootdir,
                <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;namespace)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <CODE>Path</CODE> object representing
 the namespace directory under path rootdir</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getPath(org.apache.hadoop.fs.Path)">getPath</A></B>(org.apache.hadoop.fs.Path&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the 'path' component of a Path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;org.apache.hadoop.fs.Path&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getReferenceFilePaths(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getReferenceFilePaths</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                      org.apache.hadoop.fs.Path&nbsp;familyDir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html?is-external=true" title="class or interface in java.lang">Float</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getRegionDegreeLocalityMappingFromFS(org.apache.hadoop.conf.Configuration)">getRegionDegreeLocalityMappingFromFS</A></B>(org.apache.hadoop.conf.Configuration&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is to scan the root path of the file system to get the
 degree of locality for each region on each of the servers having at least
 one block of that region.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html?is-external=true" title="class or interface in java.lang">Float</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getRegionDegreeLocalityMappingFromFS(org.apache.hadoop.conf.Configuration, java.lang.String, int)">getRegionDegreeLocalityMappingFromFS</A></B>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                     <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;desiredTable,
                                     int&nbsp;threadPoolSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is to scan the root path of the file system to get the
 degree of locality for each region on each of the servers having at least
 one block of that region.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;org.apache.hadoop.fs.Path&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getRegionDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getRegionDirs</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
              org.apache.hadoop.fs.Path&nbsp;tableDir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a particular table dir, return all the regiondirs inside it, excluding files such as
 .tableinfo</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getRegionReferenceFileCount(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getRegionReferenceFileCount</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                            org.apache.hadoop.fs.Path&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.Path</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getRootDir(org.apache.hadoop.conf.Configuration)">getRootDir</A></B>(org.apache.hadoop.conf.Configuration&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.Path</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableDir(org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.TableName)">getTableDir</A></B>(org.apache.hadoop.fs.Path&nbsp;rootdir,
            <A HREF="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</A>&nbsp;tableName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <CODE>Path</CODE> object representing the table directory under
 path rootdir</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;org.apache.hadoop.fs.Path&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getTableDirs</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
             org.apache.hadoop.fs.Path&nbsp;rootdir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableFragmentation(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getTableFragmentation</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                      org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runs through the HBase rootdir and checks how many stores for each table
 have more than one file in them.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableFragmentation(org.apache.hadoop.hbase.master.HMaster)">getTableFragmentation</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/master/HMaster.html" title="class in org.apache.hadoop.hbase.master">HMaster</A>&nbsp;master)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runs through the HBase rootdir and checks how many stores for each table
 have more than one file in them.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableName(org.apache.hadoop.fs.Path)">getTableName</A></B>(org.apache.hadoop.fs.Path&nbsp;tablePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <A HREF="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase"><CODE>TableName</CODE></A> object representing
 the table directory under
 path rootdir</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.apache.hadoop.fs.Path&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableStoreFilePathMap(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getTableStoreFilePathMap</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                         org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runs through the HBase rootdir and creates a reverse lookup map for
 table StoreFile names to the full Path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.apache.hadoop.fs.Path&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableStoreFilePathMap(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.util.HBaseFsck.ErrorReporter)">getTableStoreFilePathMap</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                         org.apache.hadoop.fs.Path&nbsp;hbaseRootDir,
                         <A HREF="../../../../../org/apache/hadoop/hbase/util/HBaseFsck.ErrorReporter.html" title="interface in org.apache.hadoop.hbase.util">HBaseFsck.ErrorReporter</A>&nbsp;errors)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runs through the HBase rootdir and creates a reverse lookup map for
 table StoreFile names to the full Path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.apache.hadoop.fs.Path&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableStoreFilePathMap(java.util.Map, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.TableName)">getTableStoreFilePathMap</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.apache.hadoop.fs.Path&gt;&nbsp;map,
                         org.apache.hadoop.fs.FileSystem&nbsp;fs,
                         org.apache.hadoop.fs.Path&nbsp;hbaseRootDir,
                         <A HREF="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</A>&nbsp;tableName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runs through the HBase rootdir/tablename and creates a reverse lookup map for
 table StoreFile names to the full Path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.apache.hadoop.fs.Path&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableStoreFilePathMap(java.util.Map, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.TableName, org.apache.hadoop.hbase.util.HBaseFsck.ErrorReporter)">getTableStoreFilePathMap</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.apache.hadoop.fs.Path&gt;&nbsp;map,
                         org.apache.hadoop.fs.FileSystem&nbsp;fs,
                         org.apache.hadoop.fs.Path&nbsp;hbaseRootDir,
                         <A HREF="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</A>&nbsp;tableName,
                         <A HREF="../../../../../org/apache/hadoop/hbase/util/HBaseFsck.ErrorReporter.html" title="interface in org.apache.hadoop.hbase.util">HBaseFsck.ErrorReporter</A>&nbsp;errors)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runs through the HBase rootdir/tablename and creates a reverse lookup map for
 table StoreFile names to the full Path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTotalTableFragmentation(org.apache.hadoop.hbase.master.HMaster)">getTotalTableFragmentation</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/master/HMaster.html" title="class in org.apache.hadoop.hbase.master">HMaster</A>&nbsp;master)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the total overall fragmentation percentage.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getVersion</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
           org.apache.hadoop.fs.Path&nbsp;rootdir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verifies current version of file system</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isAppendSupported(org.apache.hadoop.conf.Configuration)">isAppendSupported</A></B>(org.apache.hadoop.conf.Configuration&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Heuristic to determine whether is safe or not to open a file for append
 Looks both for dfs.support.append and use reflection to search
 for SequenceFile.Writer.syncFs() or FSDataOutputStream.hflush()</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isExists(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">isExists</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
         org.apache.hadoop.fs.Path&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calls fs.exists().</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isHDFS(org.apache.hadoop.conf.Configuration)">isHDFS</A></B>(org.apache.hadoop.conf.Configuration&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isMajorCompacted(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">isMajorCompacted</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                 org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runs through the hbase rootdir and checks all stores have only
 one file in them -- that is, they've been major compacted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isMatchingTail(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path)">isMatchingTail</A></B>(org.apache.hadoop.fs.Path&nbsp;pathToSearch,
               org.apache.hadoop.fs.Path&nbsp;pathTail)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compare path component of the Path URI; e.g.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isMatchingTail(org.apache.hadoop.fs.Path, java.lang.String)">isMatchingTail</A></B>(org.apache.hadoop.fs.Path&nbsp;pathToSearch,
               <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;pathTail)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compare path component of the Path URI; e.g.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isRecoveredEdits(org.apache.hadoop.fs.Path)">isRecoveredEdits</A></B>(org.apache.hadoop.fs.Path&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if the given path is the one with 'recovered.edits' dir.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isStartingWithPath(org.apache.hadoop.fs.Path, java.lang.String)">isStartingWithPath</A></B>(org.apache.hadoop.fs.Path&nbsp;rootPath,
                   <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compare of path component.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.FileStatus[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#listStatus(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">listStatus</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
           org.apache.hadoop.fs.Path&nbsp;dir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calls fs.listStatus() and treats FileNotFoundException as non-fatal
 This would accommodates differences between hadoop versions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.FileStatus[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#listStatus(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.PathFilter)">listStatus</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
           org.apache.hadoop.fs.Path&nbsp;dir,
           org.apache.hadoop.fs.PathFilter&nbsp;filter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calls fs.listStatus() and treats FileNotFoundException as non-fatal
 This accommodates differences between hadoop versions, where hadoop 1
 does not throw a FileNotFoundException, and return an empty FileStatus[]
 while Hadoop 2 will throw FileNotFoundException.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#logFileSystemState(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.commons.logging.Log)">logFileSystemState</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                   org.apache.hadoop.fs.Path&nbsp;root,
                   org.apache.commons.logging.Log&nbsp;LOG)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log the current state of the filesystem from a certain root directory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#metaRegionExists(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">metaRegionExists</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                 org.apache.hadoop.fs.Path&nbsp;rootdir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if meta region exists</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#recoverFileLease(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.util.CancelableProgressable)">recoverFileLease</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                 org.apache.hadoop.fs.Path&nbsp;p,
                 org.apache.hadoop.conf.Configuration&nbsp;conf,
                 <A HREF="../../../../../org/apache/hadoop/hbase/util/CancelableProgressable.html" title="interface in org.apache.hadoop.hbase.util">CancelableProgressable</A>&nbsp;reporter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recover file lease.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#removeRootPath(org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration)">removeRootPath</A></B>(org.apache.hadoop.fs.Path&nbsp;path,
               org.apache.hadoop.conf.Configuration&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks for the presence of the root path (using the provided conf object) in the given path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#renameAndSetModifyTime(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path)">renameAndSetModifyTime</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                       org.apache.hadoop.fs.Path&nbsp;src,
                       org.apache.hadoop.fs.Path&nbsp;dest)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setClusterId(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.ClusterId, int)">setClusterId</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
             org.apache.hadoop.fs.Path&nbsp;rootdir,
             <A HREF="../../../../../org/apache/hadoop/hbase/ClusterId.html" title="class in org.apache.hadoop.hbase">ClusterId</A>&nbsp;clusterId,
             int&nbsp;wait)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes a new unique identifier for this cluster to the "hbase.id" file
 in the HBase root directory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setFsDefault(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.Path)">setFsDefault</A></B>(org.apache.hadoop.conf.Configuration&nbsp;c,
             org.apache.hadoop.fs.Path&nbsp;root)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setRootDir(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.Path)">setRootDir</A></B>(org.apache.hadoop.conf.Configuration&nbsp;c,
           org.apache.hadoop.fs.Path&nbsp;root)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setupShortCircuitRead(org.apache.hadoop.conf.Configuration)">setupShortCircuitRead</A></B>(org.apache.hadoop.conf.Configuration&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do our short circuit read setup.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">setVersion</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
           org.apache.hadoop.fs.Path&nbsp;rootdir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets version of file system</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, int, int)">setVersion</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
           org.apache.hadoop.fs.Path&nbsp;rootdir,
           int&nbsp;wait,
           int&nbsp;retries)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets version of file system</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, java.lang.String, int, int)">setVersion</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
           org.apache.hadoop.fs.Path&nbsp;rootdir,
           <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;version,
           int&nbsp;wait,
           int&nbsp;retries)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets version of file system</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.Path</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#validateRootPath(org.apache.hadoop.fs.Path)">validateRootPath</A></B>(org.apache.hadoop.fs.Path&nbsp;root)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verifies root directory path is a valid URI with a scheme</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#waitOnSafeMode(org.apache.hadoop.conf.Configuration, long)">waitOnSafeMode</A></B>(org.apache.hadoop.conf.Configuration&nbsp;conf,
               long&nbsp;wait)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If DFS, check safe mode and if so, wait until we clear it.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="FULL_RWX_PERMISSIONS"><!-- --></A><H3>
FULL_RWX_PERMISSIONS</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>FULL_RWX_PERMISSIONS</B></PRE>
<DL>
<DD>Full access permissions (starting point for a umask)
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#org.apache.hadoop.hbase.util.FSUtils.FULL_RWX_PERMISSIONS">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="WINDOWS"><!-- --></A><H3>
WINDOWS</H3>
<PRE>
public static final boolean <B>WINDOWS</B></PRE>
<DL>
<DD>Set to true on Windows platforms
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="FSUtils()"><!-- --></A><H3>
FSUtils</H3>
<PRE>
protected <B>FSUtils</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="isStartingWithPath(org.apache.hadoop.fs.Path, java.lang.String)"><!-- --></A><H3>
isStartingWithPath</H3>
<PRE>
public static boolean <B>isStartingWithPath</B>(org.apache.hadoop.fs.Path&nbsp;rootPath,
                                         <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;path)</PRE>
<DL>
<DD>Compare of path component. Does not consider schema; i.e. if schemas different but <code>path
 <code> starts with <code>rootPath<code>, then the function returns true
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rootPath</CODE> - <DD><CODE>path</CODE> - 
<DT><B>Returns:</B><DD>True if <code>path</code> starts with <code>rootPath</code></DL>
</DD>
</DL>
<HR>

<A NAME="isMatchingTail(org.apache.hadoop.fs.Path, java.lang.String)"><!-- --></A><H3>
isMatchingTail</H3>
<PRE>
public static boolean <B>isMatchingTail</B>(org.apache.hadoop.fs.Path&nbsp;pathToSearch,
                                     <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;pathTail)</PRE>
<DL>
<DD>Compare path component of the Path URI; e.g. if hdfs://a/b/c and /a/b/c, it will compare the
 '/a/b/c' part. Does not consider schema; i.e. if schemas different but path or subpath matches,
 the two will equate.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pathToSearch</CODE> - Path we will be trying to match.<DD><CODE>pathTail</CODE> - 
<DT><B>Returns:</B><DD>True if <code>pathTail</code> is tail on the path of <code>pathToSearch</code></DL>
</DD>
</DL>
<HR>

<A NAME="isMatchingTail(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
isMatchingTail</H3>
<PRE>
public static boolean <B>isMatchingTail</B>(org.apache.hadoop.fs.Path&nbsp;pathToSearch,
                                     org.apache.hadoop.fs.Path&nbsp;pathTail)</PRE>
<DL>
<DD>Compare path component of the Path URI; e.g. if hdfs://a/b/c and /a/b/c, it will compare the
 '/a/b/c' part. If you passed in 'hdfs://a/b/c and b/c, it would return true.  Does not consider
 schema; i.e. if schemas different but path or subpath matches, the two will equate.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pathToSearch</CODE> - Path we will be trying to match.<DD><CODE>pathTail</CODE> - 
<DT><B>Returns:</B><DD>True if <code>pathTail</code> is tail on the path of <code>pathToSearch</code></DL>
</DD>
</DL>
<HR>

<A NAME="getInstance(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.conf.Configuration)"><!-- --></A><H3>
getInstance</H3>
<PRE>
public static <A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.html" title="class in org.apache.hadoop.hbase.util">FSUtils</A> <B>getInstance</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                  org.apache.hadoop.conf.Configuration&nbsp;conf)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="deleteDirectory(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
deleteDirectory</H3>
<PRE>
public static boolean <B>deleteDirectory</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                      org.apache.hadoop.fs.Path&nbsp;dir)
                               throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Delete if exists.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - filesystem object<DD><CODE>dir</CODE> - directory to delete
<DT><B>Returns:</B><DD>True if deleted <code>dir</code>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e</DL>
</DD>
</DL>
<HR>

<A NAME="deleteRegionDir(org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.HRegionInfo)"><!-- --></A><H3>
deleteRegionDir</H3>
<PRE>
public static boolean <B>deleteRegionDir</B>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                      <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;hri)
                               throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Delete the region directory if exists.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conf</CODE> - <DD><CODE>hri</CODE> - 
<DT><B>Returns:</B><DD>True if deleted the region directory.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getDefaultBlockSize(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getDefaultBlockSize</H3>
<PRE>
public static long <B>getDefaultBlockSize</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                       org.apache.hadoop.fs.Path&nbsp;path)
                                throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Return the number of bytes that large input files should be optimally
 be split into to minimize i/o time.

 use reflection to search for getDefaultBlockSize(Path f)
 if the method doesn't exist, fall back to using getDefaultBlockSize()
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - filesystem object
<DT><B>Returns:</B><DD>the default block size for the path's filesystem
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e</DL>
</DD>
</DL>
<HR>

<A NAME="getDefaultReplication(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getDefaultReplication</H3>
<PRE>
public static short <B>getDefaultReplication</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                          org.apache.hadoop.fs.Path&nbsp;path)
                                   throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getDefaultBufferSize(org.apache.hadoop.fs.FileSystem)"><!-- --></A><H3>
getDefaultBufferSize</H3>
<PRE>
public static int <B>getDefaultBufferSize</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs)</PRE>
<DL>
<DD>Returns the default buffer size to use during writes.

 The size of the buffer should probably be a multiple of hardware
 page size (4096 on Intel x86), and it determines how much data is
 buffered during read and write operations.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - filesystem object
<DT><B>Returns:</B><DD>default buffer size to use during writes</DL>
</DD>
</DL>
<HR>

<A NAME="create(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.permission.FsPermission, java.net.InetSocketAddress[])"><!-- --></A><H3>
create</H3>
<PRE>
public static org.apache.hadoop.fs.FSDataOutputStream <B>create</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                             org.apache.hadoop.fs.Path&nbsp;path,
                                                             org.apache.hadoop.fs.permission.FsPermission&nbsp;perm,
                                                             <A HREF="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</A>[]&nbsp;favoredNodes)
                                                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Create the specified file on the filesystem. By default, this will:
 <ol>
 <li>overwrite the file if it exists</li>
 <li>apply the umask in the configuration (if it is enabled)</li>
 <li>use the fs configured buffer size (or 4096 if not set)</li>
 <li>use the default replication</li>
 <li>use the default block size</li>
 <li>not track progress</li>
 </ol>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - <CODE>FileSystem</CODE> on which to write the file<DD><CODE>path</CODE> - <CODE>Path</CODE> to the file to write<DD><CODE>perm</CODE> - permissions<DD><CODE>favoredNodes</CODE> - 
<DT><B>Returns:</B><DD>output stream to the created file
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if the file cannot be created</DL>
</DD>
</DL>
<HR>

<A NAME="create(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.permission.FsPermission, boolean)"><!-- --></A><H3>
create</H3>
<PRE>
public static org.apache.hadoop.fs.FSDataOutputStream <B>create</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                             org.apache.hadoop.fs.Path&nbsp;path,
                                                             org.apache.hadoop.fs.permission.FsPermission&nbsp;perm,
                                                             boolean&nbsp;overwrite)
                                                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Create the specified file on the filesystem. By default, this will:
 <ol>
 <li>apply the umask in the configuration (if it is enabled)</li>
 <li>use the fs configured buffer size (or 4096 if not set)</li>
 <li>use the default replication</li>
 <li>use the default block size</li>
 <li>not track progress</li>
 </ol>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - <CODE>FileSystem</CODE> on which to write the file<DD><CODE>path</CODE> - <CODE>Path</CODE> to the file to write<DD><CODE>perm</CODE> - <DD><CODE>overwrite</CODE> - Whether or not the created file should be overwritten.
<DT><B>Returns:</B><DD>output stream to the created file
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if the file cannot be created</DL>
</DD>
</DL>
<HR>

<A NAME="getFilePermissions(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.conf.Configuration, java.lang.String)"><!-- --></A><H3>
getFilePermissions</H3>
<PRE>
public static org.apache.hadoop.fs.permission.FsPermission <B>getFilePermissions</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                                              org.apache.hadoop.conf.Configuration&nbsp;conf,
                                                                              <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;permssionConfKey)</PRE>
<DL>
<DD>Get the file permissions specified in the configuration, if they are
 enabled.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - filesystem that the file will be created on.<DD><CODE>conf</CODE> - configuration to read for determining if permissions are
          enabled and which to use<DD><CODE>permssionConfKey</CODE> - property key in the configuration to use when
          finding the permission
<DT><B>Returns:</B><DD>the permission to use when creating a new file on the fs. If
         special permissions are not specified in the configuration, then
         the default permissions on the the fs will be returned.</DL>
</DD>
</DL>
<HR>

<A NAME="getFileDefault()"><!-- --></A><H3>
getFileDefault</H3>
<PRE>
public static org.apache.hadoop.fs.permission.FsPermission <B>getFileDefault</B>()</PRE>
<DL>
<DD>Get the default permission for file.
 This is the same method as FsPermission.getFileDefault() in Hadoop 2.
 We provide the method here to support compatibility with Hadoop 1.
 See HBASE-11061.  Would be better to do this as Interface in hadoop-compat
 w/ hadoop1 and hadoop2 implementations but punting on this since small
 risk this will change in 0.96/0.98 timeframe (only committed to these
 branches).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="checkFileSystemAvailable(org.apache.hadoop.fs.FileSystem)"><!-- --></A><H3>
checkFileSystemAvailable</H3>
<PRE>
public static void <B>checkFileSystemAvailable</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs)
                                     throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Checks to see if the specified file system is available
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - filesystem
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e</DL>
</DD>
</DL>
<HR>

<A NAME="checkDfsSafeMode(org.apache.hadoop.conf.Configuration)"><!-- --></A><H3>
checkDfsSafeMode</H3>
<PRE>
public static void <B>checkDfsSafeMode</B>(org.apache.hadoop.conf.Configuration&nbsp;conf)
                             throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Check whether dfs is in safemode.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conf</CODE> - 
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getVersion</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getVersion</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                org.apache.hadoop.fs.Path&nbsp;rootdir)
                         throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A>,
                                <A HREF="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</A></PRE>
<DL>
<DD>Verifies current version of file system
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - filesystem object<DD><CODE>rootdir</CODE> - root hbase directory
<DT><B>Returns:</B><DD>null if no version file exists, version string otherwise.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e
<DD><CODE><A HREF="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="checkVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean)"><!-- --></A><H3>
checkVersion</H3>
<PRE>
public static void <B>checkVersion</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                org.apache.hadoop.fs.Path&nbsp;rootdir,
                                boolean&nbsp;message)
                         throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A>,
                                <A HREF="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</A></PRE>
<DL>
<DD>Verifies current version of file system
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - file system<DD><CODE>rootdir</CODE> - root directory of HBase installation<DD><CODE>message</CODE> - if true, issues a message on System.out
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e
<DD><CODE><A HREF="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="checkVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean, int, int)"><!-- --></A><H3>
checkVersion</H3>
<PRE>
public static void <B>checkVersion</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                org.apache.hadoop.fs.Path&nbsp;rootdir,
                                boolean&nbsp;message,
                                int&nbsp;wait,
                                int&nbsp;retries)
                         throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A>,
                                <A HREF="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</A></PRE>
<DL>
<DD>Verifies current version of file system
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - file system<DD><CODE>rootdir</CODE> - root directory of HBase installation<DD><CODE>message</CODE> - if true, issues a message on System.out<DD><CODE>wait</CODE> - wait interval<DD><CODE>retries</CODE> - number of times to retry
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e
<DD><CODE><A HREF="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
setVersion</H3>
<PRE>
public static void <B>setVersion</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                              org.apache.hadoop.fs.Path&nbsp;rootdir)
                       throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Sets version of file system
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - filesystem object<DD><CODE>rootdir</CODE> - hbase root
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e</DL>
</DD>
</DL>
<HR>

<A NAME="setVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, int, int)"><!-- --></A><H3>
setVersion</H3>
<PRE>
public static void <B>setVersion</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                              org.apache.hadoop.fs.Path&nbsp;rootdir,
                              int&nbsp;wait,
                              int&nbsp;retries)
                       throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Sets version of file system
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - filesystem object<DD><CODE>rootdir</CODE> - hbase root<DD><CODE>wait</CODE> - time to wait for retry<DD><CODE>retries</CODE> - number of times to retry before failing
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e</DL>
</DD>
</DL>
<HR>

<A NAME="setVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, java.lang.String, int, int)"><!-- --></A><H3>
setVersion</H3>
<PRE>
public static void <B>setVersion</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                              org.apache.hadoop.fs.Path&nbsp;rootdir,
                              <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;version,
                              int&nbsp;wait,
                              int&nbsp;retries)
                       throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Sets version of file system
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - filesystem object<DD><CODE>rootdir</CODE> - hbase root directory<DD><CODE>version</CODE> - version to set<DD><CODE>wait</CODE> - time to wait for retry<DD><CODE>retries</CODE> - number of times to retry before throwing an IOException
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e</DL>
</DD>
</DL>
<HR>

<A NAME="checkClusterIdExists(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, int)"><!-- --></A><H3>
checkClusterIdExists</H3>
<PRE>
public static boolean <B>checkClusterIdExists</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                           org.apache.hadoop.fs.Path&nbsp;rootdir,
                                           int&nbsp;wait)
                                    throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Checks that a cluster ID file exists in the HBase root directory
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - the root directory FileSystem<DD><CODE>rootdir</CODE> - the HBase root directory in HDFS<DD><CODE>wait</CODE> - how long to wait between retries
<DT><B>Returns:</B><DD><code>true</code> if the file exists, otherwise <code>false</code>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if checking the FileSystem fails</DL>
</DD>
</DL>
<HR>

<A NAME="getClusterId(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getClusterId</H3>
<PRE>
public static <A HREF="../../../../../org/apache/hadoop/hbase/ClusterId.html" title="class in org.apache.hadoop.hbase">ClusterId</A> <B>getClusterId</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                     org.apache.hadoop.fs.Path&nbsp;rootdir)
                              throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Returns the value of the unique cluster ID stored for this HBase instance.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - the root directory FileSystem<DD><CODE>rootdir</CODE> - the path to the HBase root directory
<DT><B>Returns:</B><DD>the unique cluster identifier
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if reading the cluster ID file fails</DL>
</DD>
</DL>
<HR>

<A NAME="setClusterId(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.ClusterId, int)"><!-- --></A><H3>
setClusterId</H3>
<PRE>
public static void <B>setClusterId</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                org.apache.hadoop.fs.Path&nbsp;rootdir,
                                <A HREF="../../../../../org/apache/hadoop/hbase/ClusterId.html" title="class in org.apache.hadoop.hbase">ClusterId</A>&nbsp;clusterId,
                                int&nbsp;wait)
                         throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Writes a new unique identifier for this cluster to the "hbase.id" file
 in the HBase root directory
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - the root directory FileSystem<DD><CODE>rootdir</CODE> - the path to the HBase root directory<DD><CODE>clusterId</CODE> - the unique identifier to store<DD><CODE>wait</CODE> - how long (in milliseconds) to wait between retries
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if writing to the FileSystem fails and no wait value</DL>
</DD>
</DL>
<HR>

<A NAME="validateRootPath(org.apache.hadoop.fs.Path)"><!-- --></A><H3>
validateRootPath</H3>
<PRE>
public static org.apache.hadoop.fs.Path <B>validateRootPath</B>(org.apache.hadoop.fs.Path&nbsp;root)
                                                  throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Verifies root directory path is a valid URI with a scheme
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>root</CODE> - root directory path
<DT><B>Returns:</B><DD>Passed <code>root</code> argument.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if not a valid URI with a scheme</DL>
</DD>
</DL>
<HR>

<A NAME="removeRootPath(org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration)"><!-- --></A><H3>
removeRootPath</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>removeRootPath</B>(org.apache.hadoop.fs.Path&nbsp;path,
                                    org.apache.hadoop.conf.Configuration&nbsp;conf)
                             throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Checks for the presence of the root path (using the provided conf object) in the given path. If
 it exists, this method removes it and returns the String representation of remaining relative path.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>path</CODE> - <DD><CODE>conf</CODE> - 
<DT><B>Returns:</B><DD>String representation of the remaining relative path
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="waitOnSafeMode(org.apache.hadoop.conf.Configuration, long)"><!-- --></A><H3>
waitOnSafeMode</H3>
<PRE>
public static void <B>waitOnSafeMode</B>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                  long&nbsp;wait)
                           throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>If DFS, check safe mode and if so, wait until we clear it.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conf</CODE> - configuration<DD><CODE>wait</CODE> - Sleep between retries
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e</DL>
</DD>
</DL>
<HR>

<A NAME="getPath(org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getPath</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getPath</B>(org.apache.hadoop.fs.Path&nbsp;p)</PRE>
<DL>
<DD>Return the 'path' component of a Path.  In Hadoop, Path is an URI.  This
 method returns the 'path' component of a Path's URI: e.g. If a Path is
 <code>hdfs://example.org:9000/hbase_trunk/TestTable/compaction.dir</code>,
 this method returns <code>/hbase_trunk/TestTable/compaction.dir</code>.
 This method is useful if you want to print out a Path without qualifying
 Filesystem instance.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>p</CODE> - Filesystem Path whose 'path' component we are to return.
<DT><B>Returns:</B><DD>Path portion of the Filesystem</DL>
</DD>
</DL>
<HR>

<A NAME="getRootDir(org.apache.hadoop.conf.Configuration)"><!-- --></A><H3>
getRootDir</H3>
<PRE>
public static org.apache.hadoop.fs.Path <B>getRootDir</B>(org.apache.hadoop.conf.Configuration&nbsp;c)
                                            throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - configuration
<DT><B>Returns:</B><DD>Path to hbase root directory: i.e. <code>hbase.rootdir</code> from
 configuration as a qualified Path.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e</DL>
</DD>
</DL>
<HR>

<A NAME="setRootDir(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
setRootDir</H3>
<PRE>
public static void <B>setRootDir</B>(org.apache.hadoop.conf.Configuration&nbsp;c,
                              org.apache.hadoop.fs.Path&nbsp;root)
                       throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setFsDefault(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
setFsDefault</H3>
<PRE>
public static void <B>setFsDefault</B>(org.apache.hadoop.conf.Configuration&nbsp;c,
                                org.apache.hadoop.fs.Path&nbsp;root)
                         throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="metaRegionExists(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
metaRegionExists</H3>
<PRE>
public static boolean <B>metaRegionExists</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                       org.apache.hadoop.fs.Path&nbsp;rootdir)
                                throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Checks if meta region exists
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - file system<DD><CODE>rootdir</CODE> - root directory of HBase installation
<DT><B>Returns:</B><DD>true if exists
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e</DL>
</DD>
</DL>
<HR>

<A NAME="computeHDFSBlocksDistribution(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.FileStatus, long, long)"><!-- --></A><H3>
computeHDFSBlocksDistribution</H3>
<PRE>
public static <A HREF="../../../../../org/apache/hadoop/hbase/HDFSBlocksDistribution.html" title="class in org.apache.hadoop.hbase">HDFSBlocksDistribution</A> <B>computeHDFSBlocksDistribution</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                                   org.apache.hadoop.fs.FileStatus&nbsp;status,
                                                                   long&nbsp;start,
                                                                   long&nbsp;length)
                                                            throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Compute HDFS blocks distribution of a given file, or a portion of the file
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - file system<DD><CODE>status</CODE> - file status of the file<DD><CODE>start</CODE> - start position of the portion<DD><CODE>length</CODE> - length of the portion
<DT><B>Returns:</B><DD>The HDFS blocks distribution
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isMajorCompacted(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
isMajorCompacted</H3>
<PRE>
public static boolean <B>isMajorCompacted</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                       org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)
                                throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Runs through the hbase rootdir and checks all stores have only
 one file in them -- that is, they've been major compacted.  Looks
 at root and meta tables too.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - filesystem<DD><CODE>hbaseRootDir</CODE> - hbase root directory
<DT><B>Returns:</B><DD>True if this hbase install is major compacted.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - e</DL>
</DD>
</DL>
<HR>

<A NAME="getTotalTableFragmentation(org.apache.hadoop.hbase.master.HMaster)"><!-- --></A><H3>
getTotalTableFragmentation</H3>
<PRE>
public static int <B>getTotalTableFragmentation</B>(<A HREF="../../../../../org/apache/hadoop/hbase/master/HMaster.html" title="class in org.apache.hadoop.hbase.master">HMaster</A>&nbsp;master)
                                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Returns the total overall fragmentation percentage. Includes hbase:meta and
 -ROOT- as well.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>master</CODE> - The master defining the HBase root and file system.
<DT><B>Returns:</B><DD>A map for each table and its percentage.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - When scanning the directory fails.</DL>
</DD>
</DL>
<HR>

<A NAME="getTableFragmentation(org.apache.hadoop.hbase.master.HMaster)"><!-- --></A><H3>
getTableFragmentation</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt; <B>getTableFragmentation</B>(<A HREF="../../../../../org/apache/hadoop/hbase/master/HMaster.html" title="class in org.apache.hadoop.hbase.master">HMaster</A>&nbsp;master)
                                                 throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Runs through the HBase rootdir and checks how many stores for each table
 have more than one file in them. Checks -ROOT- and hbase:meta too. The total
 percentage across all tables is stored under the special key "-TOTAL-".
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>master</CODE> - The master defining the HBase root and file system.
<DT><B>Returns:</B><DD>A map for each table and its percentage.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - When scanning the directory fails.</DL>
</DD>
</DL>
<HR>

<A NAME="getTableFragmentation(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getTableFragmentation</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt; <B>getTableFragmentation</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                        org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)
                                                 throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Runs through the HBase rootdir and checks how many stores for each table
 have more than one file in them. Checks -ROOT- and hbase:meta too. The total
 percentage across all tables is stored under the special key "-TOTAL-".
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - The file system to use.<DD><CODE>hbaseRootDir</CODE> - The root directory to scan.
<DT><B>Returns:</B><DD>A map for each table and its percentage.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - When scanning the directory fails.</DL>
</DD>
</DL>
<HR>

<A NAME="getTableDir(org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.TableName)"><!-- --></A><H3>
getTableDir</H3>
<PRE>
public static org.apache.hadoop.fs.Path <B>getTableDir</B>(org.apache.hadoop.fs.Path&nbsp;rootdir,
                                                    <A HREF="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</A>&nbsp;tableName)</PRE>
<DL>
<DD>Returns the <CODE>Path</CODE> object representing the table directory under
 path rootdir
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rootdir</CODE> - qualified path of HBase root directory<DD><CODE>tableName</CODE> - name of table
<DT><B>Returns:</B><DD><CODE>Path</CODE> for table</DL>
</DD>
</DL>
<HR>

<A NAME="getTableName(org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getTableName</H3>
<PRE>
public static <A HREF="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</A> <B>getTableName</B>(org.apache.hadoop.fs.Path&nbsp;tablePath)</PRE>
<DL>
<DD>Returns the <A HREF="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase"><CODE>TableName</CODE></A> object representing
 the table directory under
 path rootdir
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tablePath</CODE> - path of table
<DT><B>Returns:</B><DD><CODE>Path</CODE> for table</DL>
</DD>
</DL>
<HR>

<A NAME="getNamespaceDir(org.apache.hadoop.fs.Path, java.lang.String)"><!-- --></A><H3>
getNamespaceDir</H3>
<PRE>
public static org.apache.hadoop.fs.Path <B>getNamespaceDir</B>(org.apache.hadoop.fs.Path&nbsp;rootdir,
                                                        <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;namespace)</PRE>
<DL>
<DD>Returns the <CODE>Path</CODE> object representing
 the namespace directory under path rootdir
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rootdir</CODE> - qualified path of HBase root directory<DD><CODE>namespace</CODE> - namespace name
<DT><B>Returns:</B><DD><CODE>Path</CODE> for table</DL>
</DD>
</DL>
<HR>

<A NAME="isAppendSupported(org.apache.hadoop.conf.Configuration)"><!-- --></A><H3>
isAppendSupported</H3>
<PRE>
public static boolean <B>isAppendSupported</B>(org.apache.hadoop.conf.Configuration&nbsp;conf)</PRE>
<DL>
<DD>Heuristic to determine whether is safe or not to open a file for append
 Looks both for dfs.support.append and use reflection to search
 for SequenceFile.Writer.syncFs() or FSDataOutputStream.hflush()
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conf</CODE> - 
<DT><B>Returns:</B><DD>True if append support</DL>
</DD>
</DL>
<HR>

<A NAME="isHDFS(org.apache.hadoop.conf.Configuration)"><!-- --></A><H3>
isHDFS</H3>
<PRE>
public static boolean <B>isHDFS</B>(org.apache.hadoop.conf.Configuration&nbsp;conf)
                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conf</CODE> - 
<DT><B>Returns:</B><DD>True if this filesystem whose scheme is 'hdfs'.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="recoverFileLease(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.util.CancelableProgressable)"><!-- --></A><H3>
recoverFileLease</H3>
<PRE>
public abstract void <B>recoverFileLease</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                      org.apache.hadoop.fs.Path&nbsp;p,
                                      org.apache.hadoop.conf.Configuration&nbsp;conf,
                                      <A HREF="../../../../../org/apache/hadoop/hbase/util/CancelableProgressable.html" title="interface in org.apache.hadoop.hbase.util">CancelableProgressable</A>&nbsp;reporter)
                               throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Recover file lease. Used when a file might be suspect
 to be had been left open by another process.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - FileSystem handle<DD><CODE>p</CODE> - Path of file to recover lease<DD><CODE>conf</CODE> - Configuration handle
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTableDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getTableDirs</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;org.apache.hadoop.fs.Path&gt; <B>getTableDirs</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                           org.apache.hadoop.fs.Path&nbsp;rootdir)
                                                    throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getLocalTableDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getLocalTableDirs</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;org.apache.hadoop.fs.Path&gt; <B>getLocalTableDirs</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                                org.apache.hadoop.fs.Path&nbsp;rootdir)
                                                         throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - <DD><CODE>rootdir</CODE> - 
<DT><B>Returns:</B><DD>All the table directories under <code>rootdir</code>. Ignore non table hbase folders such as
 .logs, .oldlogs, .corrupt folders.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isRecoveredEdits(org.apache.hadoop.fs.Path)"><!-- --></A><H3>
isRecoveredEdits</H3>
<PRE>
public static boolean <B>isRecoveredEdits</B>(org.apache.hadoop.fs.Path&nbsp;path)</PRE>
<DL>
<DD>Checks if the given path is the one with 'recovered.edits' dir.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>path</CODE> - 
<DT><B>Returns:</B><DD>True if we recovered edits</DL>
</DD>
</DL>
<HR>

<A NAME="getRegionDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getRegionDirs</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;org.apache.hadoop.fs.Path&gt; <B>getRegionDirs</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                            org.apache.hadoop.fs.Path&nbsp;tableDir)
                                                     throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Given a particular table dir, return all the regiondirs inside it, excluding files such as
 .tableinfo
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - A file system for the Path<DD><CODE>tableDir</CODE> - Path to a specific table directory <hbase.rootdir>/<tabledir>
<DT><B>Returns:</B><DD>List of paths to valid region directories in table dir.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getFamilyDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getFamilyDirs</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;org.apache.hadoop.fs.Path&gt; <B>getFamilyDirs</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                            org.apache.hadoop.fs.Path&nbsp;regionDir)
                                                     throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Given a particular region dir, return all the familydirs inside it
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - A file system for the Path<DD><CODE>regionDir</CODE> - Path to a specific region directory
<DT><B>Returns:</B><DD>List of paths to valid family directories in region dir.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getReferenceFilePaths(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getReferenceFilePaths</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;org.apache.hadoop.fs.Path&gt; <B>getReferenceFilePaths</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                                    org.apache.hadoop.fs.Path&nbsp;familyDir)
                                                             throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentFileSystem(org.apache.hadoop.conf.Configuration)"><!-- --></A><H3>
getCurrentFileSystem</H3>
<PRE>
public static org.apache.hadoop.fs.FileSystem <B>getCurrentFileSystem</B>(org.apache.hadoop.conf.Configuration&nbsp;conf)
                                                            throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conf</CODE> - 
<DT><B>Returns:</B><DD>Returns the filesystem of the hbase rootdir.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTableStoreFilePathMap(java.util.Map, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.TableName)"><!-- --></A><H3>
getTableStoreFilePathMap</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.apache.hadoop.fs.Path&gt; <B>getTableStoreFilePathMap</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.apache.hadoop.fs.Path&gt;&nbsp;map,
                                                                             org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                                             org.apache.hadoop.fs.Path&nbsp;hbaseRootDir,
                                                                             <A HREF="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</A>&nbsp;tableName)
                                                                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Runs through the HBase rootdir/tablename and creates a reverse lookup map for
 table StoreFile names to the full Path.
 <br>
 Example...<br>
 Key = 3944417774205889744  <br>
 Value = hdfs://localhost:51169/user/userid/-ROOT-/70236052/info/3944417774205889744
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>map</CODE> - map to add values.  If null, this method will create and populate one to return<DD><CODE>fs</CODE> - The file system to use.<DD><CODE>hbaseRootDir</CODE> - The root directory to scan.<DD><CODE>tableName</CODE> - name of the table to scan.
<DT><B>Returns:</B><DD>Map keyed by StoreFile name with a value of the full Path.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - When scanning the directory fails.</DL>
</DD>
</DL>
<HR>

<A NAME="getTableStoreFilePathMap(java.util.Map, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.TableName, org.apache.hadoop.hbase.util.HBaseFsck.ErrorReporter)"><!-- --></A><H3>
getTableStoreFilePathMap</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.apache.hadoop.fs.Path&gt; <B>getTableStoreFilePathMap</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.apache.hadoop.fs.Path&gt;&nbsp;map,
                                                                             org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                                             org.apache.hadoop.fs.Path&nbsp;hbaseRootDir,
                                                                             <A HREF="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</A>&nbsp;tableName,
                                                                             <A HREF="../../../../../org/apache/hadoop/hbase/util/HBaseFsck.ErrorReporter.html" title="interface in org.apache.hadoop.hbase.util">HBaseFsck.ErrorReporter</A>&nbsp;errors)
                                                                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Runs through the HBase rootdir/tablename and creates a reverse lookup map for
 table StoreFile names to the full Path.
 <br>
 Example...<br>
 Key = 3944417774205889744  <br>
 Value = hdfs://localhost:51169/user/userid/-ROOT-/70236052/info/3944417774205889744
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>map</CODE> - map to add values.  If null, this method will create and populate one to return<DD><CODE>fs</CODE> - The file system to use.<DD><CODE>hbaseRootDir</CODE> - The root directory to scan.<DD><CODE>tableName</CODE> - name of the table to scan.<DD><CODE>errors</CODE> - ErrorReporter instance or null
<DT><B>Returns:</B><DD>Map keyed by StoreFile name with a value of the full Path.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - When scanning the directory fails.</DL>
</DD>
</DL>
<HR>

<A NAME="getRegionReferenceFileCount(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getRegionReferenceFileCount</H3>
<PRE>
public static int <B>getRegionReferenceFileCount</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                              org.apache.hadoop.fs.Path&nbsp;p)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTableStoreFilePathMap(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
getTableStoreFilePathMap</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.apache.hadoop.fs.Path&gt; <B>getTableStoreFilePathMap</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                                             org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)
                                                                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Runs through the HBase rootdir and creates a reverse lookup map for
 table StoreFile names to the full Path.
 <br>
 Example...<br>
 Key = 3944417774205889744  <br>
 Value = hdfs://localhost:51169/user/userid/-ROOT-/70236052/info/3944417774205889744
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - The file system to use.<DD><CODE>hbaseRootDir</CODE> - The root directory to scan.
<DT><B>Returns:</B><DD>Map keyed by StoreFile name with a value of the full Path.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - When scanning the directory fails.</DL>
</DD>
</DL>
<HR>

<A NAME="getTableStoreFilePathMap(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.util.HBaseFsck.ErrorReporter)"><!-- --></A><H3>
getTableStoreFilePathMap</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,org.apache.hadoop.fs.Path&gt; <B>getTableStoreFilePathMap</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                                             org.apache.hadoop.fs.Path&nbsp;hbaseRootDir,
                                                                             <A HREF="../../../../../org/apache/hadoop/hbase/util/HBaseFsck.ErrorReporter.html" title="interface in org.apache.hadoop.hbase.util">HBaseFsck.ErrorReporter</A>&nbsp;errors)
                                                                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Runs through the HBase rootdir and creates a reverse lookup map for
 table StoreFile names to the full Path.
 <br>
 Example...<br>
 Key = 3944417774205889744  <br>
 Value = hdfs://localhost:51169/user/userid/-ROOT-/70236052/info/3944417774205889744
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - The file system to use.<DD><CODE>hbaseRootDir</CODE> - The root directory to scan.<DD><CODE>errors</CODE> - ErrorReporter instance or null
<DT><B>Returns:</B><DD>Map keyed by StoreFile name with a value of the full Path.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - When scanning the directory fails.</DL>
</DD>
</DL>
<HR>

<A NAME="listStatus(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.PathFilter)"><!-- --></A><H3>
listStatus</H3>
<PRE>
public static org.apache.hadoop.fs.FileStatus[] <B>listStatus</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                           org.apache.hadoop.fs.Path&nbsp;dir,
                                                           org.apache.hadoop.fs.PathFilter&nbsp;filter)
                                                    throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Calls fs.listStatus() and treats FileNotFoundException as non-fatal
 This accommodates differences between hadoop versions, where hadoop 1
 does not throw a FileNotFoundException, and return an empty FileStatus[]
 while Hadoop 2 will throw FileNotFoundException.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - file system<DD><CODE>dir</CODE> - directory<DD><CODE>filter</CODE> - path filter
<DT><B>Returns:</B><DD>null if dir is empty or doesn't exist, otherwise FileStatus array
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="listStatus(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
listStatus</H3>
<PRE>
public static org.apache.hadoop.fs.FileStatus[] <B>listStatus</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                           org.apache.hadoop.fs.Path&nbsp;dir)
                                                    throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Calls fs.listStatus() and treats FileNotFoundException as non-fatal
 This would accommodates differences between hadoop versions
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - file system<DD><CODE>dir</CODE> - directory
<DT><B>Returns:</B><DD>null if dir is empty or doesn't exist, otherwise FileStatus array
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="delete(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean)"><!-- --></A><H3>
delete</H3>
<PRE>
public static boolean <B>delete</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                             org.apache.hadoop.fs.Path&nbsp;path,
                             boolean&nbsp;recursive)
                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Calls fs.delete() and returns the value returned by the fs.delete()
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - <DD><CODE>path</CODE> - <DD><CODE>recursive</CODE> - 
<DT><B>Returns:</B><DD>the value returned by the fs.delete()
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isExists(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
isExists</H3>
<PRE>
public static boolean <B>isExists</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                               org.apache.hadoop.fs.Path&nbsp;path)
                        throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Calls fs.exists(). Checks if the specified path exists
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - <DD><CODE>path</CODE> - 
<DT><B>Returns:</B><DD>the value returned by fs.exists()
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="checkAccess(org.apache.hadoop.security.UserGroupInformation, org.apache.hadoop.fs.FileStatus, org.apache.hadoop.fs.permission.FsAction)"><!-- --></A><H3>
checkAccess</H3>
<PRE>
public static void <B>checkAccess</B>(org.apache.hadoop.security.UserGroupInformation&nbsp;ugi,
                               org.apache.hadoop.fs.FileStatus&nbsp;file,
                               org.apache.hadoop.fs.permission.FsAction&nbsp;action)
                        throws <A HREF="../../../../../org/apache/hadoop/hbase/security/AccessDeniedException.html" title="class in org.apache.hadoop.hbase.security">AccessDeniedException</A></PRE>
<DL>
<DD>Throw an exception if an action is not permitted by a user on a file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ugi</CODE> - the user<DD><CODE>file</CODE> - the file<DD><CODE>action</CODE> - the action
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/hadoop/hbase/security/AccessDeniedException.html" title="class in org.apache.hadoop.hbase.security">AccessDeniedException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="logFileSystemState(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.commons.logging.Log)"><!-- --></A><H3>
logFileSystemState</H3>
<PRE>
public static void <B>logFileSystemState</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                      org.apache.hadoop.fs.Path&nbsp;root,
                                      org.apache.commons.logging.Log&nbsp;LOG)
                               throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Log the current state of the filesystem from a certain root directory
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - filesystem to investigate<DD><CODE>root</CODE> - root file/directory to start logging from<DD><CODE>LOG</CODE> - log to output information
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if an unexpected exception occurs</DL>
</DD>
</DL>
<HR>

<A NAME="renameAndSetModifyTime(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path)"><!-- --></A><H3>
renameAndSetModifyTime</H3>
<PRE>
public static boolean <B>renameAndSetModifyTime</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                             org.apache.hadoop.fs.Path&nbsp;src,
                                             org.apache.hadoop.fs.Path&nbsp;dest)
                                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getRegionDegreeLocalityMappingFromFS(org.apache.hadoop.conf.Configuration)"><!-- --></A><H3>
getRegionDegreeLocalityMappingFromFS</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html?is-external=true" title="class or interface in java.lang">Float</A>&gt;&gt; <B>getRegionDegreeLocalityMappingFromFS</B>(org.apache.hadoop.conf.Configuration&nbsp;conf)
                                                                          throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>This function is to scan the root path of the file system to get the
 degree of locality for each region on each of the servers having at least
 one block of that region.
 This is used by the tool <A HREF="../../../../../org/apache/hadoop/hbase/master/RegionPlacementMaintainer.html" title="class in org.apache.hadoop.hbase.master"><CODE>RegionPlacementMaintainer</CODE></A>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conf</CODE> - the configuration to use
<DT><B>Returns:</B><DD>the mapping from region encoded name to a map of server names to
           locality fraction
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - in case of file system errors or interrupts</DL>
</DD>
</DL>
<HR>

<A NAME="getRegionDegreeLocalityMappingFromFS(org.apache.hadoop.conf.Configuration, java.lang.String, int)"><!-- --></A><H3>
getRegionDegreeLocalityMappingFromFS</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html?is-external=true" title="class or interface in java.lang">Float</A>&gt;&gt; <B>getRegionDegreeLocalityMappingFromFS</B>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                                                                 <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;desiredTable,
                                                                                 int&nbsp;threadPoolSize)
                                                                          throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>This function is to scan the root path of the file system to get the
 degree of locality for each region on each of the servers having at least
 one block of that region.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conf</CODE> - the configuration to use<DD><CODE>desiredTable</CODE> - the table you wish to scan locality for<DD><CODE>threadPoolSize</CODE> - the thread pool size to use
<DT><B>Returns:</B><DD>the mapping from region encoded name to a map of server names to
           locality fraction
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - in case of file system errors or interrupts</DL>
</DD>
</DL>
<HR>

<A NAME="setupShortCircuitRead(org.apache.hadoop.conf.Configuration)"><!-- --></A><H3>
setupShortCircuitRead</H3>
<PRE>
public static void <B>setupShortCircuitRead</B>(org.apache.hadoop.conf.Configuration&nbsp;conf)</PRE>
<DL>
<DD>Do our short circuit read setup.
 Checks buffer size to use and whether to do checksumming in hbase or hdfs.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conf</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="checkShortCircuitReadBufferSize(org.apache.hadoop.conf.Configuration)"><!-- --></A><H3>
checkShortCircuitReadBufferSize</H3>
<PRE>
public static void <B>checkShortCircuitReadBufferSize</B>(org.apache.hadoop.conf.Configuration&nbsp;conf)</PRE>
<DL>
<DD>Check if short circuit read buffer size is set and if not, set it to hbase value.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conf</CODE> - </DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FSUtils.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html" title="class in org.apache.hadoop.hbase.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/util/FSUtils.BlackListDirFilter.html" title="class in org.apache.hadoop.hbase.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/apache/hadoop/hbase/util/FSUtils.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FSUtils.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2015 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.
</BODY>
</HTML>
